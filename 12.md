# Chapter 12. 테스트 주도 개발

## 작성하려는 코드가 있다면 항상 먼저 어떻게 그 코드를 테스트할지 고민해야함. 


### TDD의 주된 이이
- 유닛테스트르 프로덕션 코드를 작성하고 난 **이후에**  테스트 코드를 작성하여 얻을 수 있는 가장 큰 이점은 코드가 예상한 대로 동작한다는 것.
- 하지만 TDD를 하면 동일한 이익 그 이상을 얻을 수 있음.

### 단순하게 시작.
TDD는 3부분의 사이클로 구성됨.
1. 실패하는 테스트 코드 작성 : 이 단게에서는 시스템에 추가하고자하는 **동작**을 정의한는 테스트 코드를 작성하는 것.
2. 테스트 통과시키기 : 컴파일이 되는것으로도 충분. 최소한의 코드만 추가해야함. 
3. 이전 두 단계에서 추가되거나 변경된 코드 개선하기 : 이 3단계에서 커밋하는게 좋음.

> TDD를 할 때, 나쁜 가정들을 피하기 위해 항상 테스트가 먼저 실패하는지 관찰 할것.
> 실패를 먼저 해야! 내가 기대하는 동작이 아직 시스템에 없다는 것을 보여줄 수 있음.

### 또 다른 중분 추가.
위에서 말했듯이, 2단계에서는 그 테스트를 통과할 수 있는 최소한의 코드만 추가해야함. 
- 이 추가된 시점에, 테스트는 시스템이 무엇을 하는지 문서화함. 
- 가장 작은 양의 코드를 작성하는 것은 실패하는 또다른 테스트를 만들 수 있음을 의미 

### 테스트 정리
3단계인것 같은데..
- 중복되는 로직을 뽑아 @Before로 이동.
- 변수 및 메소드 이름 변경 
등을 이 단계에서 할 수 있음.

### 인터페이스 확장
3단계를 하면서 뭐 필드를 추출하고,..이런 작업에서 AAA(act부분과 assert부분이 합쳐짐)는 조금 위반될 수 있음. 하지만 AAA는 불변의 법칙이 아니므로 ㄱㅊ. 

### 문서로서의 테스트들
테스트 주도 클래스를 더 잘 이해하려면 테스트 이름부터 살펴볼것. 
**테스트 이름이 다른것들과 함께 깔끔하고 일관성 있을수록 더 신뢰할 수 있는 클래스 문서가됨**<p>
테스트 하려는 **동작**을 테스트 클래스 이름으로 넣으면 개별 테스트 이름에서 중복되는 정보를 제거할 수 있음!!!!!

### TDD의 리듬
TDD의 사이클은 짧음. <p>
약 10분정도의 시간 제한을 걸어보고 2단계에서 테스트 pass가 안됐다면 작업중인 코드는 폐기하고 다시 좀 더 작은 단계로 도전해보는 것도 좋음.<p>
각 TDD사이클은 테스트를 가설로한 시간 제한이 있는 실험으로 취급할 것.<p>
실험이 잘못됐다면 가정의 범위를 축소하면 무엇이 잘못되었는지 찾는데 도움이 될거다!!




